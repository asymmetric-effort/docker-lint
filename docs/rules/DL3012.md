# DL3012 : Multiple HEALTHCHECK instructions

## Description
Each build stage may define at most one `HEALTHCHECK`. Additional `HEALTHCHECK` instructions override previous ones and can be confusing.

## Goals
- Keep Dockerfiles clear about active health checks.
- Prevent accidental masking of earlier `HEALTHCHECK` instructions.

## Specification
1. Traverse instructions in order.
2. Reset a stage-scoped flag whenever a `FROM` instruction appears.
3. Upon encountering a `HEALTHCHECK`:
   - If a `HEALTHCHECK` has already been seen in the current stage, emit `DL3012` at that line.
   - Otherwise, mark that a `HEALTHCHECK` has been seen for this stage.

(c) 2025 Asymmetric Effort, LLC. <scaldwell@asymmetric-effort.com>
[<img src="../img/asymmetric-effort.png" alt="Asymmetric Effort logo" width="60" height="60">](https://asymmetric-effort.com/)
